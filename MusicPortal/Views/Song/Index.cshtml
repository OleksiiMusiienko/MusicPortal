@model IEnumerable<Portal.BLL.DTO.SongDTO>

@{
    ViewData["Title"] = "Index";
}
<div style="display:flex; flex-direction:column">
    @if (@Context.Session.GetInt32("Admin") == 1 || Context.Session.GetString("Name") != null)
    {
        <a asp-action="Create" class="navbar-brand btn-new">Добавить песню</a>
    }



<table class="table">
    <thead>
        <tr>
           @*  <th>
                @Html.DisplayNameFor(model => model.Id)
            </th> *@
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Author)
            </th>
            <th>
                
            </th>
            <th>

            </th>
            <th>
                @Html.DisplayNameFor(model => model.Genre)
            </th>
            <th>

            </th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Author)
            </td>
            <td>
                    <audio controls controlslist="nodownload">
                        <source src="@Url.Content(item.Path)" type="audio/mp3">
                        <source src="@Url.Content(item.Path)" type="audio/mpeg">
                        <source src="@Url.Content(item.Path)" type="audio/wav">
                    </audio>
            </td>
            <td>
                        @if (Context.Session.GetString("Name") != null)
                        {
                            <a asp-action="Download" asp-route-id="@item.Id" title="Скачать" style="height:20px; width:30px;">
                                <img src="~/images/download-icon.png" alt="download">
                            </a>
                        }
             </td>
            <td>
                @Html.DisplayFor(modelItem => item.Genre)
            </td>
            <td>
                    @if (@Context.Session.GetInt32("Admin") == 1)
                    {
                        @Html.ActionLink("Изменить", "Edit", new { id = item.Id }, new { @class = "navbar-brand btn-new" })
                            <a asp-action="Delete" asp-route-id="@item.Id" title="Удалить" style="height:20px; width:20px;">
                                <img src="~/images/delete-icon.png" alt="download">
                            </a>
                    }
                    
            </td>
        </tr>
}
    </tbody>
</table>
</div>
